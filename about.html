<!DOCTYPE html>
<html lang="sv"> 
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Om Webbplatsen</title>
    <script>
      var exports = { __esModule: true };
    </script>
    <link rel="stylesheet" href="./style.css" />
  <header>
    <nav class="navbar" id="navbar">
      <button class="hamburger" id="hamburger-toggle"> 
        <div class="icon-open">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#755d40" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M4 6l16 0" />
            <path d="M4 12l16 0" />
            <path d="M4 18l16 0" />
          </svg>
        </div>
        <div class="icon-close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#827053" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M18 6l-12 12" />
            <path d="M6 6l12 12" />
          </svg>
        </div>
      </button>
      <ul class="navbar-items">

        <li>
          <a href="./index.html">Startsidan</a>
        </li>
        <li>
          <a href="./add.html">Ny arbetserfarenhet</a>
        </li>
        <li>
          <a href="./about.html">Om projektet</a>
        </li>
      </ul>
    </nav>
  </header>
  <body onload="loadData()" >

    
    <h1>Om webbplatsen</h1>
    <p>Denna webbplats är skapad för att hantera och visa arbetslivserfarenheter. Den använder en backend-webbtjänst för att lagra och hantera data.</p>
    <p>Webbplatsen är en fristående frontend-applikation, skapad med HTML, CSS och JavaScript.</p>
    <p>Backend-webbtjänsten är byggd med Node.js och Express, och använder en relationsdatabas (jag har valt SQLite) för att lagra data om arbetslivserfarenheter.</p>
    <p>I den här webbapplikationen kan man lägga till nya arbetsliverfarenheter och se de befintliga erfarenheterna. Dessutom kan man ta bort den erfarenhet man vill.</p>
    <p> Jag tycker att det är mycket praktiskt att använda CRUD (GET, POST, PUT och DELETE), man kan göra många funktioner av det och det är mycket praktiskt. Dessutom är det enkelt att använda det. Det mesta i denna uppgift var saker som vi hade lärt oss innan i denna kurs och andra kurser, men det som var intressant att göra denna övning var att vi lärde oss CRUD-operationer och vad olika status kod betyder. Jag har mött dessa kod hela tiden men jag visste inte vad de betyder. Jag vill också tacka för uppgiftbeskrivningen genom att läsa den nogrannt och titta på videor i den och föreläsningen lyckades jag göra uppgiften utan några svårigheter! </p>
    <script src="script.js"></script>
    <script>// URL till din backend-webbtjänst
        const apiUrl = 'http://localhost:3001/api/workexperience';
        
        // Funktion för att hämta arbetslivserfarenheter och visa dem på index.html
        function getWorkExperience() {
            fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                const workexperienceList = document.getElementById('workexperience-list');
                workexperienceList.innerHTML = '';
                data.forEach(work => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `Företagsnamn: ${work.companyname}, Jobbtitel: ${work.jobtitle}, Plats: ${work.location}`;
                    workexperienceList.appendChild(listItem);
                });
            })
            .catch(error => console.error('Error:', error));
        }
        
        // Funktion för att lägga till ny arbetslivserfarenhet från add.html
        function addWorkExperience(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const postData = {};
            formData.forEach((value, key) => {
                postData[key] = value;
            });
        
            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(postData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Workexperience added:', data);
                form.reset();
            })
            .catch(error => console.error('Error:', error));
        }
        
        // Hämta arbetslivserfarenheter när index.html laddas
        if (document.getElementById('workexperience-list')) {
            getWorkExperience();
        }
        
        // Lyssna på submit-event för att lägga till ny arbetslivserfarenhet från add.html
        if (document.getElementById('add-workexperience-form')) {
            document.getElementById('add-workexperience-form').addEventListener('submit', addWorkExperience);
        }
        </script>
  
  <script type="module"  >  //js till hamburgar menyn
    const hamburgerToggle = document.getElementById("hamburger-toggle");
    const navbar = document.getElementById("navbar");

    function onHamburgerClick(){
        if(navbar.classList.contains("open")){
          navbar.classList.remove("open");
 

        } else{
          navbar.classList.add("open");

        }
        
      };
    hamburgerToggle.addEventListener("click", onHamburgerClick);
  </script>
  </body>
</html>
